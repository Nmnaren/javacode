name: Auto merge 

on:
    pull_request_target:
        types:
            - labeled
            - opened
            - synchronize
            - reopened
        branches:
            - main
jobs:
    auto-merge:
        runs-on: ubuntu-latest

        steps:
            - name: checkout code
              uses: actions/checkout@v2
            - name: Enable GitHub auto-merge
              uses: peter-evans/enable-pull-request-automerge@v2
              with:
                token: ${{secrets.GITHUB_TOKEN}}
                merge-method: squash
                required-labels: automerge
                commit-title: "Auto-Merged by Github Actions"

# test pull request auto merge